@layer components {
  .snx-chat-bubble {
    @apply flex gap-2.5 max-w-[80%];
  }
  .snx-chat-bubble-user {
    @apply flex-row-reverse self-end;
  }
  .snx-chat-bubble-ai {
    @apply flex-row self-start;
  }
  .snx-chat-bubble-avatar {
    @apply h-8 w-8 shrink-0 rounded-full object-cover;
  }
  .snx-chat-bubble-content {
    @apply rounded-2xl px-4 py-2.5 text-sm leading-relaxed;
  }
  .snx-chat-bubble-user .snx-chat-bubble-content {
    @apply bg-primary text-primary-foreground rounded-br-md;
  }
  .snx-chat-bubble-ai .snx-chat-bubble-content {
    @apply bg-secondary text-secondary-foreground rounded-bl-md;
  }
  .snx-chat-bubble-timestamp {
    @apply block text-xs text-muted-foreground mt-1 px-1;
  }
  .snx-chat-bubble-user .snx-chat-bubble-timestamp {
    @apply text-right;
  }
  .snx-chat-bubble-typing {
    @apply flex items-center gap-1 px-4 py-3 rounded-2xl bg-secondary rounded-bl-md;
  }
  .snx-chat-bubble-typing-dot {
    @apply h-1.5 w-1.5 rounded-full bg-muted-foreground/60;
    animation: snx-chat-bounce 1.4s ease-in-out infinite both;
  }
  .snx-chat-bubble-typing-dot:nth-child(2) {
    animation-delay: 0.16s;
  }
  .snx-chat-bubble-typing-dot:nth-child(3) {
    animation-delay: 0.32s;
  }
}

@keyframes snx-chat-bounce {
  0%, 80%, 100% { transform: translateY(0); }
  40% { transform: translateY(-4px); }
}
